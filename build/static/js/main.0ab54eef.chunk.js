(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(169),i=a(168),s=a(77),u=Object(s.a)({palette:{primary:{light:"#484848",main:"#212121",dark:"#000000",contrastText:"#fff"}},secondary:{main:"#f44330",light:"#ff795b",dark:"#b90005",contrastText:"#000000"},typography:{dt:{textTransform:"uppercase"}}}),m=(a(95),a(14)),p=a(13),d=a(10),f=a.n(d),b=a(15),h=a(6),g=a(149),E=a(151),v=a(152),j=a(153),O=a(154),x=Object(g.a)((function(e){return{base:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},title:{color:e.palette.contrastText,textTransform:"capitalize"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),y=function(e){var t=e.profiles,a=void 0===t?[]:t,n=x(),o=Object(E.a)((function(e){return e.breakpoints.down("xs")})),c=Object(E.a)((function(e){return e.breakpoints.up("md")}));return a.length?r.a.createElement("div",{className:n.base},r.a.createElement(v.a,{cellHeight:230,className:n.gridList,cols:o?1:c?4:2},a.map((function(e){return r.a.createElement(j.a,{key:e._id},r.a.createElement("img",{src:"https://agency-app-node.herokuapp.com"+"/".concat(e.mainImg),alt:e.name.first}),r.a.createElement(m.b,{to:"/profiles/".concat(e._id),id:e._id,agent:e.agent},r.a.createElement(O.a,{title:"".concat(e.name.first," ").concat(e.name.last),classes:{root:n.titleBar,title:n.title}})))})))):r.a.createElement("div",null,r.a.createElement("h2",null," No profiles found. Create one?"),r.a.createElement(m.b,{to:"/profiles/new"},r.a.createElement("button",null,"Create Profile")))},w=a(18),k=a(155),C=a(156),N=Object(g.a)((function(e){var t;return{root:(t={flexGrow:1,paddingTop:130},Object(w.a)(t,e.breakpoints.up("sm"),{maxWidth:"90%"}),Object(w.a)(t,e.breakpoints.up("md"),{maxWidth:"80%"}),Object(w.a)(t,"margin","auto"),t)}}));function S(e){var t=N();return r.a.createElement(k.a,{maxWidth:"lg"},r.a.createElement(C.a,{container:!0,className:t.root,spacing:2},r.a.createElement(C.a,{item:!0,xs:12},e.children)))}var T=a(173),I=a(171);function D(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var P=Object(g.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));function z(e){var t=P();return r.a.createElement("div",{className:t.root},r.a.createElement(T.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!e.error,autoHideDuration:6e3,onClose:e.onClear},r.a.createElement(D,{onClose:e.onClear,severity:"error"},e.errorMessage)))}var F=a(159),B=a(160),M=Object(g.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}}));function q(){var e=M();return r.a.createElement("div",null,r.a.createElement(F.a,{className:e.backdrop},r.a.createElement(B.a,{color:"inherit"})))}var A,_=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),l=Object(h.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(),m=Object(h.a)(u,2),p=m[0],d=m[1];return Object(n.useEffect)((function(){(function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(null),o(!0),e.prev=2,e.next=5,fetch("https://agency-app-node.herokuapp.com/api/profiles");case 5:return t=e.sent,e.next=8,t.json();case 8:if(a=e.sent,t.ok){e.next=11;break}throw new Error(a.message);case 11:d(a.data),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),s(e.t0.message);case 17:o(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(S,null,a&&r.a.createElement(q,null),r.a.createElement(z,{error:i,errorMessage:i,onClear:function(){s(null)}}),!a&&p&&r.a.createElement(y,{profiles:p}))},H=(a(100),a(101),function(e){return r.a.createElement("div",{className:"card ".concat(e.className),style:e.style},e.children)}),L=function(e){return r.a.createElement("li",{className:"user-item"},r.a.createElement(H,{className:"user-item__content"},r.a.createElement(m.b,{to:"/users/".concat(e.id,"/profiles")},r.a.createElement("div",{className:"user-item__info"},r.a.createElement("h2",{style:{textTransform:"capitalize"}},e.name),r.a.createElement("h3",{style:{textTransform:"capitalize"}},e.description),r.a.createElement("p",null,e.email)))))},R=(a(102),function(e){var t=e.items;return t.length?r.a.createElement(S,null,r.a.createElement("ul",{className:"users-list"},t.map((function(e){return r.a.createElement(L,{key:e._id,id:e._id,name:e.name,description:e.location,email:e.email})})))):r.a.createElement(H,{className:"center"},r.a.createElement("h2",null,"No users found"))}),W=function(){var e=Object(n.useState)(!1),t=Object(h.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),l=Object(h.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(null),m=Object(h.a)(u,2),p=m[0],d=m[1];return Object(n.useEffect)((function(){(function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,fetch("https://agency-app-node.herokuapp.com/api/users");case 4:return t=e.sent,e.next=7,t.json();case 7:if(a=e.sent,t.ok){e.next=10;break}throw new Error(a.message||t.statusText);case 10:console.log(a),d(a.data),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),s(e.t0.message);case 18:o(!1);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(q,null),!a&&p&&r.a.createElement(R,{items:p}),r.a.createElement(z,{error:i,errorMessage:i,onClear:function(){s(null)}}))},G=function(){var e=Object(p.h)().id,t=Object(n.useState)(!1),a=Object(h.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(null),i=Object(h.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),d=Object(h.a)(m,2),g=d[0],E=d[1];return Object(n.useEffect)((function(){(function(){var t=Object(b.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(!0),t.prev=1,t.next=4,fetch("https://agency-app-node.herokuapp.com/api"+"/profiles/user/".concat(e));case 4:return a=t.sent,t.next=7,a.json();case 7:if(n=t.sent,a.ok){t.next=10;break}throw new Error(n.message||a.statusText);case 10:console.log(n),E(n.data),c(!1),t.next=20;break;case 15:t.prev=15,t.t0=t.catch(1),console.log(t.t0),c(!1),u(t.t0.message);case 20:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),r.a.createElement(S,null,o&&r.a.createElement(q,null),!o&&g&&r.a.createElement(y,{profiles:g}),r.a.createElement(z,{error:s,errorMessage:s,onClear:function(){u(null)}}))},J=a(163),U=a(164),Y=a(157),K=a(165),V=a(174),Z=a(73),Q=a.n(Z),X=Object(n.createContext)({token:null,isLoggedIn:!1,userId:null,login:function(){},logout:function(){}}),$=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),i=Object(h.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),d=Object(h.a)(m,2),f=d[0],b=d[1],g=Object(p.g)(),E=Object(n.useCallback)((function(e,t,a){u(t),c(e);var n=a||new Date((new Date).getTime()+72e5);b(n),localStorage.setItem("user",JSON.stringify({userId:e,token:t,expiration:n.toISOString()}))}),[]),v=Object(n.useCallback)((function(){u(null),b(null),c(null),localStorage.removeItem("user"),g.push("/")}),[g]);return Object(n.useEffect)((function(){if(s&&f){var e=f.getTime()-(new Date).getTime();A=setTimeout(v,e)}else clearTimeout(A)}),[s,v,f]),Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("user"));e&&e.token&&new Date(e.expiration)>new Date&&E(e.userId,e.token,new Date(e.expiration))}),[E]),r.a.createElement(X.Provider,{value:{token:s,login:E,logout:v,userId:o}},e.children)},ee=a(161),te=a(162),ae=Object(g.a)((function(e){return{button:{color:"inherit",textTransform:"uppercase",margin:e.spacing(1)},root:Object(w.a)({display:"flex",listStyle:"none",flexDirection:"column",justifyContent:"center",alignItems:"center"},e.breakpoints.up("md"),{flexDirection:"row",justifyContent:"center"})}})),ne=function(e){var t=Object(n.useContext)(X),a=t.token,o=t.logout,c=t.userId;console.log("Nav logged in? ",a),console.log(c,"userId");var l=ae();return r.a.createElement(ee.a,{className:l.root},r.a.createElement(te.a,{button:!0},r.a.createElement(m.c,{to:"/",exact:!0},"Talent ")),r.a.createElement(te.a,{button:!0},r.a.createElement(m.c,{to:"/users",exact:!0},"Agents")),!!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{button:!0},r.a.createElement(m.c,{to:"/users/".concat(c,"/profiles")},"My Profiles")),r.a.createElement(te.a,{button:!0},r.a.createElement(m.c,{to:"/profiles/new"},"Add Profile")),r.a.createElement(te.a,{button:!0,onClick:o},"Logout")),!a&&r.a.createElement(te.a,{button:!0},r.a.createElement(m.c,{to:"/auth"},"LogIn")))},re=Object(g.a)((function(e){return{root:{flexGrow:1,zIndex:10},appbar:{position:"sticky"},bar:Object(w.a)({},e.breakpoints.down("md"),{height:130}),menuButton:Object(w.a)({marginRight:e.spacing(2)},e.breakpoints.up("md"),{display:"none"}),title:{flexGrow:1},list:{width:250},nav:Object(w.a)({},e.breakpoints.down("sm"),{display:"none"})}})),oe=function(e){var t=Object(n.useState)(!1),a=Object(h.a)(t,2),o=a[0],c=a[1],l=re();return r.a.createElement("div",{className:l.root},r.a.createElement(J.a,{className:l.appBar},r.a.createElement(V.a,{anchor:"left",open:o,onClose:function(){return c(!1)}},r.a.createElement("div",{className:l.list,role:"presentation",onClick:function(){return c(!1)},onKeyDown:function(){return c(!1)}},r.a.createElement(ne,null))),r.a.createElement(U.a,{className:l.bar},r.a.createElement(Y.a,{edge:"start",className:l.menuButton,color:"inherit","aria-label":"open drawer",onClick:function(){return c(!o)}},r.a.createElement(Q.a,null)),r.a.createElement(K.a,{className:l.title,variant:"h5",noWrap:!0},r.a.createElement(m.b,{to:"/"},"IMG MANAGEMENT")),r.a.createElement("div",{className:l.nav},r.a.createElement(ne,null)))))},ce=a(167),le=a(74),ie=a.n(le),se=a(166),ue=Object(g.a)((function(e){return{root:{display:"flex",justifyContent:"flex-end"},content:{textAlign:"right"},name:{textAlign:"right",textTransform:"capitalize"},contact:{display:"flex",flexDirection:"column",justifyContent:"center"}}})),me=function(e){var t=Object(n.useContext)(X).userId,a=ue();return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{component:"h4",variant:"h4",className:a.name},e.name.first," ",e.name.last),r.a.createElement("div",{className:a.root},t===e.agent&&r.a.createElement(se.a,{component:"dl",className:a.contact},r.a.createElement(K.a,{component:"dt",variant:"h6"},"Email"),r.a.createElement(K.a,{component:"dd",variant:"body1"},e.email),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Phone"),r.a.createElement(K.a,{component:"dd",variant:"body1"},e.phone),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Notes"),r.a.createElement(K.a,{component:"dd",variant:"body2"},e.notes)),r.a.createElement(se.a,{className:a.content},r.a.createElement("dl",null,r.a.createElement(K.a,{component:"dt",variant:"h6"},"Height"),r.a.createElement(K.a,{component:"dd",variant:"h5"},e.height," cm"),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Bust"),r.a.createElement(K.a,{component:"dd",variant:"h5"},e.bust," cm"),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Waist"),r.a.createElement(K.a,{component:"dd",variant:"h5"},e.waist," cm"),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Hips"),r.a.createElement(K.a,{component:"dd",variant:"h5"},e.hips," cm"),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Shoes"),r.a.createElement(K.a,{component:"dd",variant:"h5"},e.shoes),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Hair"),r.a.createElement(K.a,{component:"dd",variant:"h5"},e.hair),r.a.createElement(K.a,{component:"dt",variant:"h6"},"Eyes"),r.a.createElement(K.a,{component:"dd",variant:"h5"},e.eyes)))))},pe=Object(g.a)((function(e){var t;return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:(t={flexWrap:"nowrap"},Object(w.a)(t,e.breakpoints.down("xs"),{flexDirection:"column"}),Object(w.a)(t,"transform","translateZ(0)"),t),delete:{position:"absolute",right:0,top:0}}})),de=function(e){var t=e.profile,a=e.profileId,o=e.setError,c=pe(),l=Object(E.a)((function(e){return e.breakpoints.down("xs")})),i=Object(n.useContext)(X),s=i.token,u=i.userId,m=t.photos,p=Object(n.useState)(m),d=Object(h.a)(p,2),g=d[0],O=d[1],x=function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(a,"id"),e.next=4,fetch("https://agency-app-node.herokuapp.com/api"+"/profiles/".concat(a,"/photo/").concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+s},method:"DELETE"});case 4:if(n=e.sent,console.log("response",n),n.ok){e.next=8;break}throw new Error(n.message);case 8:O((function(e){return e.filter((function(e){return e._id!==t}))})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0),o(e.t0.message||"Something went wrong");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:c.root},r.a.createElement(v.a,{className:c.gridList,cellHeight:550},r.a.createElement(j.a,{cols:l?2:1},r.a.createElement(me,t)),r.a.createElement(j.a,{cols:l?2:1},r.a.createElement("img",{src:"https://agency-app-node.herokuapp.com"+"/".concat(t.mainImg),alt:"".concat(t.name.first," ")})),g.map((function(e,a){return r.a.createElement(j.a,{key:a,cols:l?2:1},r.a.createElement("img",{src:"https://agency-app-node.herokuapp.com"+"/".concat(e.path),alt:e.name}),u===t.agent&&r.a.createElement(ce.a,{className:c.delete,onClick:function(){return x(e._id)},"aria-label":"delete photo"},r.a.createElement(ie.a,null)))}))))},fe=a(46),be=a(170),he=Object(g.a)((function(e){return{formRow:{display:"flex",margin:e.spacing(1)},input:{display:"none"}}})),ge=function(e){var t=e.profile,a=he(),o=r.a.createRef(),c=Object(n.useContext)(X).token,l=Object(n.useState)(!1),i=Object(h.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(),p=Object(h.a)(m,2),d=p[0],g=p[1],E=function(){var e=Object(b.a)(f.a.mark((function e(a){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),a.persist(),e.prev=2,u(!0),(n=new FormData).append("mainImg",o.current.files[0]),console.log(Object.fromEntries(n),"data"),e.next=9,fetch("https://agency-app-node.herokuapp.com/api"+"/profiles/".concat(t._id,"/updatecover"),{method:"PUT",body:n,headers:{Authorization:"Bearer "+c}});case 9:if((r=e.sent).ok){e.next=12;break}throw new Error(r.message||r.statusText);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.dir(e.t0),g(e.t0.message||"Something went wrong");case 18:u(!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement(q,null),d&&r.a.createElement(z,{error:d,errorMessage:d,onClear:function(){g(null)}}),r.a.createElement("form",{encType:"multipart/form-data",action:"/profiles/:id/updateCover",method:"put",className:a.formRow,onSubmit:E},r.a.createElement("input",{accept:".jpg,.jpeg,.png",name:"mainImg",id:"file",className:a.input,type:"file",ref:o}),r.a.createElement("label",{htmlFor:"file"},r.a.createElement(ce.a,{component:"span"},"Change Cover")),r.a.createElement(ce.a,{type:"submit",variant:"outlined"},"Send")))},Ee=Object(g.a)((function(e){return{buttonGroup:{display:"flex",margin:e.spacing(1)},input:{display:"none"}}})),ve=function(e){var t=e.profile,a=e.error,o=e.setError,c=Ee(),l=r.a.createRef(),i=Object(n.useState)(!1),s=Object(h.a)(i,2),u=s[0],m=s[1],p=Object(n.useContext)(X).token,d=function(){var e=Object(b.a)(f.a.mark((function e(a){var n,r,c,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a.preventDefault(),a.persist(),n=l.current.files,console.log(n),e.prev=4,m(!0),r=new FormData,c=0;c<n.length;c++)r.append("photos",n[c]);return console.log(Object.fromEntries(r),"dataObj"),e.next=11,fetch("https://agency-app-node.herokuapp.com/api"+"/profiles/".concat(t._id),{method:"POST",body:r,headers:{Authorization:"Bearer "+p}});case 11:if((i=e.sent).ok){e.next=14;break}throw new Error(i.message||i.statusText);case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),console.log(e.t0),o(e.t0.message||"Something went wrong");case 20:m(!1);case 21:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{action:"/profiles/:id/upload",method:"post",encType:"multipart/form-data",className:c.buttonGroup,onSubmit:d},r.a.createElement("input",{accept:".jpg,.jpeg,.png",name:"photos",id:"files",className:c.input,multiple:!0,type:"file",ref:l}),r.a.createElement("label",{htmlFor:"files"},r.a.createElement(ce.a,{component:"span"},"Add Photos")),r.a.createElement(ce.a,{type:"submit",variant:"outlined"},"Send")),u&&r.a.createElement(q,null),a&&r.a.createElement(z,{error:a,errorMessage:a,onClear:function(){o(null)}}))},je=Object(g.a)((function(e){return{formRow:{margin:e.spacing(1),display:"flex",justifyContent:"space-around"},root:{margin:"0 auto ".concat(e.spacing(1)),padding:"1rem",width:"90%",maxWidth:"40rem",borderRadius:"6px",background:"white"},form:{"& .MuiTextField-root":{margin:e.spacing(1),width:"100%"}},button:{margin:e.spacing(1)},name:{textTransform:"capitalize"}}})),Oe=function(e){var t=je(),a=e.profile,o=Object(n.useContext)(X).token,c=Object(n.useState)({height:"",bust:"",waist:"",hips:"",shoes:"",email:"",phone:"",notes:""}),l=Object(h.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)({}),m=Object(h.a)(u,2),p=m[0],d=m[1],g=Object(n.useState)(!1),E=Object(h.a)(g,2),v=E[0],j=E[1],O=Object(n.useState)(null),x=Object(h.a)(O,2),y=x[0],k=x[1];console.log(i);var C=function(e){var t=e.target,a=t.name,n=t.value,r=Object(fe.a)(Object(fe.a)({},i),{},Object(w.a)({},a,n));s(r);var o=Object(fe.a)(Object(fe.a)({},p),{},Object(w.a)({},a,n));d(o)};console.log(i);var N=function(){var e=Object(b.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(i),console.log(p),e.prev=3,j(!0),e.next=7,fetch("https://agency-app-node.herokuapp.com/api"+"/profiles/".concat(a._id),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},method:"PUT",body:JSON.stringify(p)});case 7:if((n=e.sent).ok){e.next=10;break}throw new Error(n.message||n.statusText);case 10:console.log(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0),k(e.t0.message||"Something went wrong");case 17:j(!1);case 18:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:t.root},v&&r.a.createElement(q,null),r.a.createElement("h2",{className:t.name},a.name.first," ",a.name.last),r.a.createElement("div",{className:t.formRow},r.a.createElement(ge,{profile:a}),r.a.createElement(ve,{profile:a})),r.a.createElement("form",{onSubmit:N,className:t.form},r.a.createElement(be.a,{name:"height",label:"Height (cm)",type:"number",value:i.height,onChange:C,placeholder:String(a.height),variant:"outlined"}),r.a.createElement(be.a,{id:"bust",name:"bust",label:"Bust",type:"number",value:i.bust,onChange:C,placeholder:String(a.hips),variant:"outlined"}),r.a.createElement(be.a,{id:"waist",name:"waist",label:"Waist",type:"number",value:i.waist,onChange:C,placeholder:String(a.waist),variant:"outlined"}),r.a.createElement(be.a,{id:"hips",name:"hips",label:"Hips",type:"number",value:i.hips,onChange:C,placeholder:String(a.hips),variant:"outlined"}),r.a.createElement(be.a,{id:"shoes",name:"shoes",label:"Shoes",type:"number",value:i.shoes,onChange:C,placeholder:String(a.shoes),variant:"outlined"}),r.a.createElement(be.a,{id:"email",name:"email",label:"Email",type:"email",value:i.email,onChange:C,placeholder:a.email,variant:"outlined"}),r.a.createElement(be.a,{id:"phone",name:"phone",label:"Phone",type:"tel",value:i.phone,onChange:C,placeholder:String(a.phone),variant:"outlined"}),r.a.createElement(be.a,{id:"notes",name:"notes",label:"Notes",placeholder:a.notes,value:i.notes,onChange:C,variant:"outlined",multiline:!0}),r.a.createElement("div",{className:t.formRow},r.a.createElement(ce.a,{type:"submit",variant:"contained",color:"primary",size:"large",className:t.button,"aria-label":"save"},"Save"),r.a.createElement(ce.a,{variant:"contained",color:"primary",size:"large",className:t.button,onClick:e.cancelHandler,"aria-label":"view profile"},"View Profile"))),r.a.createElement(z,{error:y,errorMessage:y,onClear:function(){k(null)}}))},xe=a(172),ye=a(110),we=Object(g.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function ke(e){var t=we();return r.a.createElement("div",null,r.a.createElement(xe.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:e.open,onClose:e.onClose,closeAfterTransition:!0,BackdropComponent:F.a,BackdropProps:{timeout:500}},r.a.createElement(ye.a,{in:e.open},r.a.createElement("div",{className:t.paper},r.a.createElement("h2",null,e.header),r.a.createElement("div",null,e.children),r.a.createElement("footer",null,e.footer)))))}var Ce=Object(g.a)((function(e){return{button:{margin:e.spacing(1)}}})),Ne=function(){var e=Ce(),t=Object(n.useContext)(X),a=t.userId,o=t.token,c=Object(p.h)().id,l=Object(n.useState)(!1),i=Object(h.a)(l,2),s=i[0],u=i[1],m=Object(n.useState)(null),d=Object(h.a)(m,2),g=d[0],E=d[1],v=Object(n.useState)(),j=Object(h.a)(v,2),O=j[0],x=j[1],y=Object(p.g)(),w=function(){F(!1)};Object(n.useEffect)((function(){(function(){var e=Object(b.a)(f.a.mark((function e(){var t,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(null),u(!0),e.prev=2,e.next=5,fetch("https://agency-app-node.herokuapp.com/api"+"/profiles/".concat(c));case 5:return t=e.sent,console.log(c,"profileId"),console.log(t),e.next=10,t.json();case 10:if(a=e.sent,t.ok){e.next=13;break}throw new Error(a.message);case 13:x(a.data),u(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),u(!1),E(e.t0.message);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}})()()}),[c]);var k=Object(n.useState)(!0),C=Object(h.a)(k,2),N=C[0],T=C[1],I=Object(n.useState)(!1),D=Object(h.a)(I,2),P=D[0],F=D[1],B=function(){var e=Object(b.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://agency-app-node.herokuapp.com/api"+"/api/profiles/".concat(c),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+o},method:"DELETE"});case 3:if(t=e.sent,y.push("/users/".concat(a,"/profiles")),t.ok){e.next=7;break}throw new Error(t.message||t.statusText);case 7:e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),E(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(S,null,s&&r.a.createElement(q,null),r.a.createElement(z,{error:g,errorMessage:g,onClear:function(){E(null)}}),N?r.a.createElement(r.a.Fragment,null,r.a.createElement(ke,{open:P,onClose:w,header:"Are you sure?",footer:r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a,{variant:"outlined",onClick:w,className:e.button},"Cancel"),r.a.createElement(ce.a,{className:e.button,variant:"contained",color:"secondary",onClick:B},"Delete"))}),!s&&O&&r.a.createElement(de,{profile:O,profileId:c,setError:E})):r.a.createElement(Oe,{profile:O,cancelHandler:function(){T(!0)}}),O&&O.agent===a&&N&&r.a.createElement("div",{className:"profile-item__actions"},r.a.createElement(ce.a,{className:e.button,onClick:function(){T(!1)},variant:"outlined"},"Edit"),r.a.createElement(ce.a,{className:e.button,onClick:function(){F(!0)}},"Delete")))},Se=(a(104),Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"100%"}},input:{display:"none"},button:{margin:e.spacing(1),width:"100%"}}}))),Te=function(){var e=Se(),t=Object(n.useContext)(X),a=t.userId,o=t.token;console.log(a);var c=Object(n.useState)(),l=Object(h.a)(c,2),i=l[0],s=l[1],u=Object(p.g)(),m=function(){var e=Object(b.a)(f.a.mark((function e(t){var n,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.persist(),n=t.target,e.prev=3,(r=new FormData(n)).append("agent",a),console.log(Object.fromEntries(r),"data"),e.next=9,fetch("https://agency-app-node.herokuapp.com/api/profiles",{method:"POST",body:r,headers:{Authorization:"Bearer "+o}});case 9:if((c=e.sent).ok){e.next=12;break}throw new Error(c.message||c.statusText);case 12:console.log(c),u.push("/"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0),s(e.t0.message||"Something went wrong");case 20:n.reset();case 21:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(S,null,r.a.createElement("div",{className:"profile-form"},r.a.createElement("form",{encType:"multipart/form-data",className:e.root,action:"/profiles",method:"POST",onSubmit:m},r.a.createElement(be.a,{required:!0,id:"firstName",name:"name.first",label:"First Name",variant:"outlined"}),r.a.createElement(be.a,{id:"lastName",name:"name.last",label:"Last Name",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"eyes",name:"eyes",label:"Eyes",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"hair",name:"hair",label:"Hair",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"height",name:"height",label:"Height (cm)",type:"number",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"bust",name:"bust",label:"Bust",type:"number",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"waist",name:"waist",label:"Waist",type:"number",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"hips",name:"hips",label:"Hips",type:"number",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"shoes",name:"shoes",label:"Shoes",type:"number",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"email",name:"email",label:"Email",type:"email",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"phone",name:"phone",label:"Phone",type:"tel",variant:"outlined",required:!0}),r.a.createElement(be.a,{id:"notes",name:"notes",label:"Notes",variant:"outlined",multiline:!0}),r.a.createElement("div",null,r.a.createElement("input",{accept:".jpg,.jpeg,.png",className:e.input,id:"contained-button-file",type:"file",name:"mainImg"}),r.a.createElement("label",{htmlFor:"contained-button-file"},r.a.createElement(ce.a,{className:e.button,variant:"outlined",size:"large",component:"span"},"Upload Photo"))),r.a.createElement(ce.a,{type:"submit",variant:"contained",color:"primary",size:"large",className:e.button},"Create Profile")),r.a.createElement(z,{error:i,errorMessage:i,onClear:function(){s(null)}})))},Ie=(a(105),Object(g.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"80%"}},input:{display:"none"},button:{margin:e.spacing(1),width:"100%"}}}))),De=function(){var e=Ie(),t=Object(p.g)(),a=Object(n.useContext)(X).login,o=Object(n.useState)(!0),c=Object(h.a)(o,2),l=c[0],i=c[1],s=Object(n.useState)(!1),u=Object(h.a)(s,2),m=u[0],d=u[1],g=Object(n.useState)(null),E=Object(h.a)(g,2),v=E[0],j=E[1],O=function(){var e=Object(b.a)(f.a.mark((function e(n){var r,o,c,i,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r=Object.fromEntries(new FormData(n.target)),d(!0),!l){e.next=27;break}return e.prev=4,e.next=7,fetch("https://agency-app-node.herokuapp.com/api/users/login",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)});case 7:return o=e.sent,e.next=10,o.json();case 10:if(c=e.sent,o.ok){e.next=13;break}throw new Error(o.message||o.statusText);case 13:console.log(c.userId),a(c.userId,c.token),t.push("/"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),console.log(e.t0),j(e.t0.message||"Something went wrong");case 22:return e.prev=22,d(!1),e.finish(22);case 25:e.next=48;break;case 27:return e.prev=27,e.next=30,fetch("https://agency-app-node.herokuapp.com/api/users/signup",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)});case 30:return i=e.sent,e.next=33,i.json();case 33:if(s=e.sent,i.ok){e.next=36;break}throw new Error(i.message||i.statusText);case 36:console.log(s),a(s.userId,s.token),t.push("/"),e.next=45;break;case 41:e.prev=41,e.t1=e.catch(27),console.log(e.t1),j(e.t1.message||"Something went wrong");case 45:return e.prev=45,d(!1),e.finish(45);case 48:case"end":return e.stop()}}),e,null,[[4,18,22,25],[27,41,45,48]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(H,{className:"authentication"},m&&r.a.createElement(q,null),r.a.createElement("h2",null,"Login Required"),r.a.createElement("hr",null),r.a.createElement("form",{className:e.root,onSubmit:O},!l&&r.a.createElement(be.a,{variant:"outlined",id:"name",name:"name",label:"Your Name",required:!0}),!l&&r.a.createElement(be.a,{variant:"outlined",id:"location",name:"location",label:"Your City",required:!0}),r.a.createElement(be.a,{variant:"outlined",id:"email",name:"email",type:"email",label:"Email",required:!0,autoComplete:"email"}),r.a.createElement(be.a,{variant:"outlined",id:"password",name:"password",type:"password",label:"Password",required:!0,autoComplete:"on"}),r.a.createElement(ce.a,{type:"submit",variant:"contained",color:"primary",className:e.button},l?"Login":"New Account"),r.a.createElement(ce.a,{variant:"outlined",onClick:function(){i((function(e){return!e}))}},"Switch to ",l?"Register":"Login")),r.a.createElement(z,{error:v,errorMessage:v,onClear:function(){j(null)}}))},Pe=a(75),ze=a(76),Fe=a(79),Be=a(78),Me=(r.a.Component,function(e){var t=e.type,a=void 0===t?"private":t,o=Object(n.useContext)(X).token;return console.log("token",o),"private"!==a||o?r.a.createElement(p.b,e):r.a.createElement(p.a,{to:"/login"})}),qe=(a(106),function(){return r.a.createElement(m.a,null,r.a.createElement($,null,r.a.createElement(oe,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(_,null)),r.a.createElement(p.b,{exact:!0,path:"/users"},r.a.createElement(W,null)),r.a.createElement(p.b,{exact:!0,path:"/users/:id/profiles"},r.a.createElement(G,null)),r.a.createElement(Me,{exact:!0,path:"/profiles/new"},r.a.createElement(Te,null)),r.a.createElement(p.b,{path:"/profiles/:id"},r.a.createElement(Ne,null)),r.a.createElement(p.b,{path:"/auth"},r.a.createElement(De,null)),r.a.createElement(p.a,{to:"/auth"}))))});c.a.render(r.a.createElement(i.a,{theme:u},r.a.createElement(l.a,null),r.a.createElement(qe,null)),document.getElementById("root"))},88:function(e,t,a){e.exports=a(107)},95:function(e,t,a){}},[[88,1,2]]]);
//# sourceMappingURL=main.0ab54eef.chunk.js.map